this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this._init()},b=createjs.extend(a,createjs.Container);b._combination=null,b._showWinComponent=null,b._enterCombinationComponent=null,b._playerCombinationsComponent=null,b._showCombinationComponent=null,b._playerStatsComponent=null,b._info=null,b._atempt=null,b._maxNumOfAtempts=null,b._musicIsPlaying=!1,b._init=function(){const a=system.CustomMethods.makeImage("background",!1);this.addChild(a);const b=this._info=system.CustomMethods.makeImage("info",!1);b.x=1323,b.y=476,b.visible=!1,this.addChild(b),this._addComponents(),this._addButtons(),this._enterCombinationComponent.enableComponent(!1),this._maxNumOfAtempts=6,this._registerSounds()},b._registerSounds=function(){system.SoundManager.registerSound("winSound"),system.SoundManager.registerSound("newGameSound"),system.SoundManager.registerSound("clickSound"),system.SoundManager.registerSound("backgroundMusic")},b._addComponents=function(){let a=this._playerStatsComponent=new system.PlayerStatsComponent;a.x=381,a.y=198,this.addChild(a);let b=this._enterCombinationComponent=new system.EnterCombinationComponent(this);b.x=1018,b.y=681,this.addChild(b);const c=this._playerCombinationsComponent=new system.PlayerCombinationsComponent;c.x=734,c.y=198,this.addChild(c);const d=this._showWinComponent=new system.ShowWinComponent;d.x=706,d.y=641;const e=new createjs.Shape;e.graphics.beginFill("#3240ea").drawRoundRect(706,642,240,211,10),d.mask=e,this.addChild(d);const f=this._showCombinationComponent=new system.ShowWinCombinationComponent;f.x=860,f.y=879;const g=new createjs.Shape;g.graphics.beginFill("#3240ea").drawRoundRect(860,879,200,56,5),f.mask=g,this.addChild(f)},b._addButtons=function(){let a=system.CustomMethods.makeImage("newGameButton",!0);const b=new system.Button(a);b.x=1605,b.y=191,b.on("click",()=>{system.SoundManager.play("newGameSound"),b.doScaleAnimation(),this._onNewGame()}),this.addChild(b),a=system.CustomMethods.makeImage("soundButton",!0);const c=new system.Button(a);c.x=b.x,c.y=b.y+80,c.on("click",()=>{c.doScaleAnimation(),this._onSound()}),this.addChild(c),a=system.CustomMethods.makeImage("infoButton",!0);const d=new system.Button(a);d.x=b.x,d.y=c.y+80,d.on("click",()=>{system.SoundManager.play("clickSound"),d.doScaleAnimation(),this._onInfo()}),this.addChild(d),a=system.CustomMethods.makeImage("fullScreenButton",!0);const e=new system.Button(a);e.x=b.x,e.y=d.y+80,e.on("click",()=>{system.SoundManager.play("clickSound"),e.doScaleAnimation(),this._onFullScreen()}),this.addChild(e)},b._onSound=function(){system.SoundManager.muteAllSounds()},b._onFullScreen=function(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen()},b._onInfo=function(){this._info.visible=!this._info.visible},b._onNewGame=function(){this._setCombination(),this._atempt=0,this._enterCombinationComponent.enableComponent(!0),this._enterCombinationComponent.clearCombination(),this._playerCombinationsComponent.clearRows(),this._showWinComponent.showWin(!1),this._showCombinationComponent.showCombination(!1,this._combination),!1===this._musicIsPlaying&&(console.log("play"),this._musicIsPlaying=!0,system.SoundManager.play("backgroundMusic",1,-1))},b._setCombination=function(){this._combination=[];for(let a,b=0;4>b;b++)a=system.CustomMethods.getRandomNumberFromTo(0,5),this._combination.push(a)},b._gameOver=function(a){this._enterCombinationComponent.enableComponent(!1),!0===a&&(system.SoundManager.play("winSound"),this._showWinAnimation(),this._playerStatsComponent.updateStats(this._atempt)),this._showCombinationComponent.showCombination(!0)},b._showWinAnimation=function(){const a=this._maxNumOfAtempts+1-this._atempt;this._showWinComponent.setGoldenBars(a),this._showWinComponent.showWin(!0)},b.updateCombination=function(a){this._playerCombinationsComponent.updateRow(this._atempt,a)},b.checkCombination=function(a){let b=0,c=0;this._enterCombinationComponent.enableComponent(!1);let d=this._combination.concat();for(let e,f=0;f<a.length;f++){e=a[f];for(let a=0;a<d.length;a++)if(e===d[a]){d.splice(a,1),b++;break}a[f]===this._combination[f]&&c++}if(b-=c,this._playerCombinationsComponent.updateContainCorrectDots(this._atempt,c,b),this._atempt++,this._enterCombinationComponent.enableComponent(!0),4===c||this._atempt===this._maxNumOfAtempts){const a=4===c;this._gameOver(a)}},b.render=function(a){stage.update(a)},system.CodeCrackerGame=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this._init()},b=createjs.extend(a,createjs.Container);b._symbols=null,b._dots=null,b._init=function(){this._symbols=[],this._dots=[],this._setSymbols(),this._setDots()},b._setSymbols=function(){for(let a=0;4>a;a++){const b=system.CustomMethods.makeImage("ps1",!1,!0);b.x=a*61,this.addChild(b),this._symbols.push(b)}},b._setDots=function(){for(let a=0;4>a;a++){const b=system.CustomMethods.makeImage("dotGreen",!1,!0);b.x=273+a*60,this.addChild(b),this._dots.push(b)}},b._clearSymbols=function(){this._symbols.forEach(a=>{a.visible=!1})},b._clearDots=function(){this._dots.forEach(a=>{a.alpha=0})},b.updateDots=function(a,b){const c=a+b;let d="";for(let e=0;e<c;e++){0<a?(a--,d="dotGreen"):d="dotYellow",system.CustomMethods.swapImages(this._dots[e],d);let b=200*e;createjs.Tween.get(this._dots[e]).wait(b).to({alpha:1},100,createjs.Ease.quadIn)}},b.setCombination=function(a){this._clearSymbols();for(let b=0;b<a.length;b++){const c=`ps${a[b]}`;system.CustomMethods.swapImages(this._symbols[b],c),this._symbols[b].visible=!0}},b.clearRow=function(){this._clearSymbols(),this._clearDots()},system.CombinationRow=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(a){this.Container_constructor(),this._init(a)},b=createjs.extend(a,createjs.Container);b._game=null,b._combination=null,b._init=function(a){this._game=a,this._combination=[],this._setSymbolButtons(),this._setEnterDeleteButtons()},b._setSymbolButtons=function(){let a=0,b=0;for(let c=0;6>c;c++){let d=`symbol${c}`,e=system.CustomMethods.makeImage(d,!0),f=new system.Button(e);f.x=79*b,f.y=a,f.on("click",()=>{system.SoundManager.play("clickSound"),f.doScaleAnimation(),this._onSymbolClick(c)}),this.addChild(f),b++,2==c&&(b=0,a=76)}},b._onSymbolClick=function(a){4>this._combination.length&&(this._combination.push(a),this._game.updateCombination(this._combination))},b._onEnterClick=function(){4===this._combination.length&&(this._game.checkCombination(this._combination),this._combination=[])},b._onDelClick=function(){0<this._combination.length&&(this._combination.pop(),this._game.updateCombination(this._combination))},b._setEnterDeleteButtons=function(){const a=system.CustomMethods.makeImage("enterButton",!0),b=new system.Button(a);b.x=40,b.y=142,b.on("click",()=>{system.SoundManager.play("clickSound"),b.doScaleAnimation(),this._onEnterClick()});const c=system.CustomMethods.makeImage("deleteButton",!0),d=new system.Button(c);d.x=158,d.y=142,d.on("click",()=>{system.SoundManager.play("clickSound"),d.doScaleAnimation(),this._onDelClick()}),this.addChild(b,d)},b.clearCombination=function(){this._combination=[]},b.enableComponent=function(a){this.mouseEnabled=a},system.EnterCombinationComponent=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this._init()},b=createjs.extend(a,createjs.Container);b._combinationsRows=null,b._init=function(){this._combinationsRows=[],this._setRows()},b._setRows=function(){for(let a=0;6>a;a++){const b=new system.CombinationRow;b.y=a*76,this.addChild(b),this._combinationsRows.push(b)}},b.updateContainCorrectDots=function(a,b,c){this._combinationsRows[a].updateDots(b,c)},b.updateRow=function(a,b){this._combinationsRows[a].setCombination(b)},b.clearRows=function(){this._combinationsRows.forEach(a=>{a.clearRow()})},system.PlayerCombinationsComponent=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this._init()},b=createjs.extend(a,createjs.Container);b._statsArr=null,b._statsTexts=null,b._init=function(){this._statsTexts=[];let a=JSON.parse(localStorage.getItem("playerStats"));null===a&&(a=[0,0,0,0,0,0],localStorage.setItem("playerStats",JSON.stringify(a))),this._statsArr=a;for(let b,c=0;6>c;c++)b=system.CustomMethods.makeText(a[c],"30px Avengeance","white","center","middle"),b.y=75*c,this._statsTexts.push(b),this.addChild(b)},b.updateStats=function(a){const b=a-1;this._statsArr[b]++,localStorage.setItem("playerStats",JSON.stringify(this._statsArr));let c=this._statsTexts[b];createjs.Tween.get(c).to({alpha:0},800,createjs.Ease.quadOut).call(()=>{c.text=this._statsArr[b],createjs.Tween.get(c).to({alpha:1},800,createjs.Ease.quadIn)})},system.PlayerStatsComponent=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this._init()},b=createjs.extend(a,createjs.Container);b._symbols=null,b._doorLeft=null,b._doorRight=null,b._init=function(){b._symbols=[];let a=system.CustomMethods.makeImage("ps0");const c=a.image.width;for(let b,d=0;4>d;d++)b=a.clone(),b.x=d*c,this.addChild(b),this._symbols.push(b);const d=this._doorLeft=system.CustomMethods.makeImage("showCodeLeft");d.x=-2,d.y=-2,this.addChild(d);const e=this._doorRight=system.CustomMethods.makeImage("showCodeRight");e.x=d.x+102,e.y=-2,this.addChild(e)},b.showCombination=function(a,b){let c=!0===a?[-102,202]:[-2,100];createjs.Tween.get(this._doorLeft).to({x:c[0]},1e3,createjs.Ease.quadInOut),createjs.Tween.get(this._doorRight).to({x:c[1]},1e3,createjs.Ease.quadInOut).call(()=>{b&&this.updateCombination(b)})},b.updateCombination=function(a){for(let b=0;b<a.length;b++){const c=`ps${a[b]}`;system.CustomMethods.swapImages(this._symbols[b],c)}},system.ShowWinCombinationComponent=createjs.promote(a,"Container")}();this.system=this.system||{},function(){"use strict";const a=function(){this.Container_constructor(),this._init()},b=createjs.extend(a,createjs.Container);b._goldenBars=null,b._doorUp=null,b._doorDown=null,b._init=function(){let a=system.CustomMethods.makeImage("goldenBar");a.x=1,a.y=130;let b=a.image.width,c=a.image.height,d=2,e=a.clone();e.x=a.x+b+d,e.y=130;let f=a.clone();f.x=e.x+b+d,f.y=130;let g=a.clone();g.x=40,g.y=a.y-c;let h=a.clone();h.x=g.x+b+d,h.y=g.y;let i=a.clone();i.x=80,i.y=h.y-c,this.addChild(a,e,f,g,h,i),this._goldenBars=[a,e,f,g,h,i];const j=this._doorUp=system.CustomMethods.makeImage("showWinUp");this.addChild(j);const k=this._doorDown=system.CustomMethods.makeImage("showWinDown");k.y=107,this.addChild(k)},b.setGoldenBars=function(a){for(let b=0;b<this._goldenBars.length;b++)this._goldenBars[b].visible=b<a},b.showWin=function(a){let b=!0===a?[-100,206]:[0,107];createjs.Tween.get(this._doorUp).to({y:b[0]},1e3,createjs.Ease.quadInOut),createjs.Tween.get(this._doorDown).to({y:b[1]},1e3,createjs.Ease.quadInOut)},system.ShowWinComponent=createjs.promote(a,"Container")}();